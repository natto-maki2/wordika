<!-- PCç‰ˆã¯ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ¯ã‚¤ãƒ‰ã€ã‚¹ãƒãƒ›ç‰ˆã¯ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§è¡¨ç¤ºã•ã‚Œã‚‹åˆä½“ç‰ˆ -->

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordika - å¤šè¨€èªç¿»è¨³ãƒ„ãƒ¼ãƒ«</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            min-height: 100vh;
        }

        /* PCç‰ˆã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆv7ï¼‰ */
        @media (min-width: 601px) {
            body {
                background-color: white;
            }

            .container {
                max-width: 700px;
                margin: 0 auto;
                background: white;
            }

            .header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 30px;
                text-align: center;
                width: 100%;
            }

            .footer {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 40px;
                text-align: center;
                height: 100px;
                margin-top: 30px;
                width: 100%;
            }

            .input-section {
                padding-top: 60px;
                padding-bottom: 30px;
            }

            .languages-section {
                padding: 0px 40px;
                min-width: 650px;
            }

            .settings-btn {
                margin-bottom: 0;
            }

            .language-actions {
                margin-bottom: 0;
                padding-bottom: 32px;
                position: relative;
            }

            .add-language-row {
                display: flex;
                flex-direction: row;
                align-items: center;
                gap: 12px;
                width: 100%;
                flex-wrap: nowrap;
            }
            .add-language-section {
                flex: 1 1 auto;
                min-width: 0;
            }
            .add-language-container {
                display: flex;
                flex-direction: row;
                align-items: center;
                gap: 8px;
                width: 100%;
            }
            .language-select {
                flex: 2 1 0;
                min-width: 0;
                max-width: 250px;
            }
            .add-btn {
                flex: 0 0 auto;
                min-width: 60px;
                max-width: 80px;
                padding: 10px 16px;
                font-size: 14px;
            }
            .settings-btn {
                flex: 0 0 auto;
                min-width: 40px;
                max-width: 40px;
                height: 40px;
                padding: 0;
                font-size: 20px;
                border-radius: 8px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
        }

        /* ãƒ¢ãƒã‚¤ãƒ«ç‰ˆã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆv4ï¼‰ */
        @media (max-width: 600px) {
            body {
                background-color: #f5f5f5;
                padding: 20px;
            }

            .header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 30px;
                text-align: center;
                width: 100%;
                max-width: 800px;
                border-radius: 16px 16px 0 0;
                box-shadow: 0 2px 20px rgba(0,0,0,0.08);
            }

            .container {
                max-width: 800px;
                margin: 0 auto 20px auto;
                background: white;
                border-radius: 0 0 16px 16px;
                box-shadow: 0 2px 20px rgba(0,0,0,0.1);
                overflow: hidden;
            }

            .input-section {
                padding: 30px;
            }

            .languages-section {
                padding: 20px 30px;
            }

            .footer {
                color: #888;
            }

            .add-language-container {
                display: flex;
                flex-direction: row;
                justify-content: center;
                align-items: center;
                gap: 8px;
                flex-wrap: nowrap;
            }
            .language-select {
                flex: 2 1 0;
                min-width: 120px;
                max-width: 60%;
            }
            .add-btn {
                flex: 1 1 0;
                min-width: 40px;
                padding: 10px 16px;
                font-size: 12px;
                margin-right: 0;
                white-space: nowrap;
            }
            .settings-btn {
                flex: 0 0 auto;
                margin-left: 0;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                font-size: 18px;
                cursor: pointer;
                padding: 8px 10px;
                border-radius: 6px;
                transition: background-color 0.3s;
                height: 36px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .settings-btn:hover {
                background-color: #5a67d8;
            }
            .add-language-row {
                display: flex;
                flex-direction: row;
                align-items: center;
                gap: 6px;
                width: 100%;
            }
            .add-language-section {
                flex: 1 1 auto;
            }
            .settings-btn {
                flex: 0 0 auto;
            }
        }

        /* å…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .header h1 {
            font-size: 2.5em;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .input-container {
            display: flex;
            gap: 15px;
            align-items: center;
            justify-content: center;
        }

        .input-box {
            width: 60%;
            min-width: 310px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .input-box:focus {
            outline: none;
            border-color: #667eea;
        }

        .translate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s;
            min-width: 80px;
        }

        .translate-btn:hover {
            transform: translateY(-2px);
        }

        .translate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .add-language-section {
            padding: 0;
            background: none;
            border-bottom: none;
            display: none;
        }

        .add-language-section.visible {
            display: block;
        }

        .add-language-container {
            display: flex;
            gap: 15px;
            align-items: center;
            justify-content: center;
        }

        .settings-btn {
            position: absolute;
            right: 0;
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .settings-btn:hover {
            background-color: #f0f0f0;
        }

        .add-label {
            font-size: 16px;
            color: #333;
            min-width: 80px;
        }

        .language-select {
            width: 70%;
            min-width: 300px;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            background: white;
        }

        .add-btn {
            background: #666;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }

        .add-btn:hover {
            background: #555;
        }

        .language-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
            position: relative;
        }

        .language-item.sortable {
            cursor: move;
            background-color: #f9f9f9;
        }

        .language-item.dragging {
            opacity: 0.5;
        }

        .language-item:last-child {
            border-bottom: none;
        }

        .remove-btn {
            background: #e74c3c;
            color: white;
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 14px;
            display: none;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
            margin-right: 10px;
        }

        .remove-btn:hover {
            background: #c0392b;
        }

        .remove-btn.visible {
            display: flex;
        }

        .language-content {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
        }

        .language-name {
            min-width: 150px;
            font-weight: 500;
            color: #333;
        }

        .language-actions {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid #eee;
            position: relative;
        }

        .translation-result {
            flex: 1;
            color: #666;
            font-style: italic;
        }

        .translation-result.translated {
            color: #2c3e50;
            font-style: normal;
        }

        .speak-btn {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            padding: 4px;
        }

        .edit-mode {
            background-color: #f8f9fa;
        }

        .edit-mode .language-item {
            background-color: transparent;
        }

        .language-item.drop-indicator-top::before {
            content: '';
            display: block;
            height: 2px;
            background-color: #667eea;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
        }

        .language-item.drop-indicator-bottom::after {
            content: '';
            display: block;
            height: 2px;
            background-color: #667eea;
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
        }

        .loading {
            opacity: 0.6;
        }

        .error {
            color: #e74c3c;
        }

        /* ãƒ¢ãƒã‚¤ãƒ«ç”¨ã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚¹ã‚¿ã‚¤ãƒ« */
        @media (max-width: 600px) {
            .input-section {
                padding-top: 30px;
                padding-bottom: 15px;
            }

            .input-container {
                flex-direction: column;
            }

            .translate-btn {
                padding: 12px 20px;
                font-size: 14px;
                min-width: 75px;
            }

            .add-language-container {
                flex-direction: row;
                justify-content: center;
                align-items: center;
                gap: 10px;
                flex-wrap: wrap;
            }

            .add-label {
                display: none;
            }

            .language-select {
                flex: 1;
                min-width: 200px;
                width: auto !important;
            }

            .add-btn {
                flex: none;
                min-width: 40px;
                padding: 10px 16px;
                font-size: 12px;
                margin-right: 20px;
                white-space: nowrap;
            }

            .language-item {
                flex-direction: row;
                align-items: center;
                gap: 10px;
            }

            .language-content {
                display: flex;
                align-items: center;
                flex: 1;
                flex-wrap: wrap;
                gap: 8px;
                min-width: 0;
            }

            .languages-section {
                padding: 0px 20px;
                min-width: 100px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Wordika</h1>
    </div>
    <div class="container">
        <div class="input-section">
            <div class="input-container">
                <input type="text" class="input-box" id="textInput" placeholder="å˜èªã‚’å…¥åŠ›" />
                <button class="translate-btn" id="translateBtn">ç¿»è¨³</button>
            </div>
        </div>
        
        <div class="languages-section" id="languagesSection">
            <div class="language-actions">
                <div class="add-language-row">
                    <div class="add-language-section">
                        <div class="add-language-container">
                            <select class="language-select" id="languageSelect">
                                <option value="">è¨€èªã‚’é¸æŠ</option>
                                <option value="en">ğŸ‡¬ğŸ‡§ è‹±èª</option>
                                <option value="it">ğŸ‡®ğŸ‡¹ ã‚¤ã‚¿ãƒªã‚¢èª</option>
                                <option value="es">ğŸ‡ªğŸ‡¸ ã‚¹ãƒšã‚¤ãƒ³èª</option>
                                <option value="de">ğŸ‡©ğŸ‡ª ãƒ‰ã‚¤ãƒ„èª</option>
                                <option value="fr">ğŸ‡«ğŸ‡· ãƒ•ãƒ©ãƒ³ã‚¹èª</option>
                                <option value="pt">ğŸ‡µğŸ‡¹ ãƒãƒ«ãƒˆã‚¬ãƒ«èª</option>
                                <option value="ru">ğŸ‡·ğŸ‡º ãƒ­ã‚·ã‚¢èª</option>
                                <option value="ko">ğŸ‡°ğŸ‡· éŸ“å›½èª</option>
                                <option value="zh-cn">ğŸ‡¨ğŸ‡³ ä¸­å›½èªï¼ˆç°¡ä½“ï¼‰</option>
                                <option value="zh-tw">ğŸ‡¹ğŸ‡¼ ä¸­å›½èªï¼ˆç¹ä½“ï¼‰</option>
                                <option value="id">ğŸ‡®ğŸ‡© ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢èª</option>
                                <option value="th">ğŸ‡¹ğŸ‡­ ã‚¿ã‚¤èª</option>
                                <option value="ne">ğŸ‡³ğŸ‡µ ãƒãƒ‘ãƒ¼ãƒ«èª</option>
                                <option value="hi">ğŸ‡®ğŸ‡³ ãƒ’ãƒ³ãƒ‡ã‚£ãƒ¼èª</option>
                                <option value="tl">ğŸ‡µğŸ‡­ ãƒ•ã‚£ãƒªãƒ”ãƒ³èª</option>
                                <option value="vi">ğŸ‡»ğŸ‡³ ãƒ™ãƒˆãƒŠãƒ èª</option>
                                <option value="ms">ğŸ‡²ğŸ‡¾ ãƒãƒ¬ãƒ¼èª</option>
                                <option value="my">ğŸ‡²ğŸ‡² ãƒŸãƒ£ãƒ³ãƒãƒ¼èª</option>
                                <option value="mn">ğŸ‡²ğŸ‡³ ãƒ¢ãƒ³ã‚´ãƒ«èª</option>
                                <option value="ar">ğŸ‡¸ğŸ‡¦ ã‚¢ãƒ©ãƒ“ã‚¢èª</option>
                                <option value="fa">ğŸ‡®ğŸ‡· ãƒšãƒ«ã‚·ãƒ£èª</option>
                                <option value="ka">ğŸ‡¬ğŸ‡ª ã‚¸ãƒ§ãƒ¼ã‚¸ã‚¢èª</option>
                                <option value="tr">ğŸ‡¹ğŸ‡· ãƒˆãƒ«ã‚³èª</option>
                                <option value="nl">ğŸ‡³ğŸ‡± ã‚ªãƒ©ãƒ³ãƒ€èª</option>
                                <option value="el">ğŸ‡¬ğŸ‡· ã‚®ãƒªã‚·ãƒ£èª</option>
                                <option value="cs">ğŸ‡¨ğŸ‡¿ ãƒã‚§ã‚³èª</option>
                                <option value="hu">ğŸ‡­ğŸ‡º ãƒãƒ³ã‚¬ãƒªãƒ¼èª</option>
                                <option value="bg">ğŸ‡§ğŸ‡¬ ãƒ–ãƒ«ã‚¬ãƒªã‚¢èª</option>
                                <option value="pl">ğŸ‡µğŸ‡± ãƒãƒ¼ãƒ©ãƒ³ãƒ‰èª</option>
                                <option value="hr">ğŸ‡­ğŸ‡· ã‚¯ãƒ­ã‚¢ãƒã‚¢èª</option>
                                <option value="ro">ğŸ‡·ğŸ‡´ ãƒ«ãƒ¼ãƒãƒ‹ã‚¢èª</option>
                                <option value="sv">ğŸ‡¸ğŸ‡ª ã‚¹ã‚¦ã‚§ãƒ¼ãƒ‡ãƒ³èª</option>
                                <option value="da">ğŸ‡©ğŸ‡° ãƒ‡ãƒ³ãƒãƒ¼ã‚¯èª</option>
                                <option value="fi">ğŸ‡«ğŸ‡® ãƒ•ã‚£ãƒ³ãƒ©ãƒ³ãƒ‰èª</option>
                                <option value="no">ğŸ‡³ğŸ‡´ ãƒãƒ«ã‚¦ã‚§ãƒ¼èª</option>
                                <option value="is">ğŸ‡®ğŸ‡¸ ã‚¢ã‚¤ã‚¹ãƒ©ãƒ³ãƒ‰èª</option>
                                <option value="et">ğŸ‡ªğŸ‡ª ã‚¨ã‚¹ãƒˆãƒ‹ã‚¢èª</option>
                                <option value="lv">ğŸ‡±ğŸ‡» ãƒ©ãƒˆãƒ“ã‚¢èª</option>
                                <option value="lt">ğŸ‡±ğŸ‡¹ ãƒªãƒˆã‚¢ãƒ‹ã‚¢èª</option>
                                <option value="sw">ğŸ‡°ğŸ‡ª ã‚¹ãƒ¯ãƒ’ãƒªèª</option>
                                <option value="haw">ğŸ‡ºğŸ‡¸ ãƒãƒ¯ã‚¤èª</option>
                                <option value="mi">ğŸ‡³ğŸ‡¿ ãƒã‚ªãƒªèª</option>
                            </select>
                            <button class="add-btn" id="addBtn">è¿½åŠ </button>
                        </div>
                    </div>
                    <button class="settings-btn" id="settingsBtn" title="è¨€èªè¨­å®š">ğŸ”§</button>
                </div>
            </div>
            <!-- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§7ã¤ã®è¨€èªã‚’è¡¨ç¤º -->
            <div class="language-item" data-lang="en" draggable="false">
                <button class="remove-btn">âˆ’</button>
                <div class="language-content">
                    <div class="language-name">ğŸ‡¬ğŸ‡§ è‹±èªï¼š</div>
                    <div class="translation-result"></div>
                    <button class="speak-btn" title="éŸ³å£°ã‚’å†ç”Ÿ">ğŸ”Š</button>
                </div>
            </div>
            <div class="language-item" data-lang="de" draggable="false">
                <button class="remove-btn">âˆ’</button>
                <div class="language-content">
                    <div class="language-name">ğŸ‡©ğŸ‡ª ãƒ‰ã‚¤ãƒ„èªï¼š</div>
                    <div class="translation-result"></div>
                    <button class="speak-btn" title="éŸ³å£°ã‚’å†ç”Ÿ">ğŸ”Š</button>
                </div>
            </div>
            <div class="language-item" data-lang="fr" draggable="false">
                <button class="remove-btn">âˆ’</button>
                <div class="language-content">
                    <div class="language-name">ğŸ‡«ğŸ‡· ãƒ•ãƒ©ãƒ³ã‚¹èªï¼š</div>
                    <div class="translation-result"></div>
                    <button class="speak-btn" title="éŸ³å£°ã‚’å†ç”Ÿ">ğŸ”Š</button>
                </div>
            </div>
            <div class="language-item" data-lang="es" draggable="false">
                <button class="remove-btn">âˆ’</button>
                <div class="language-content">
                    <div class="language-name">ğŸ‡ªğŸ‡¸ ã‚¹ãƒšã‚¤ãƒ³èªï¼š</div>
                    <div class="translation-result"></div>
                    <button class="speak-btn" title="éŸ³å£°ã‚’å†ç”Ÿ">ğŸ”Š</button>
                </div>
            </div>
            <div class="language-item" data-lang="it" draggable="false">
                <button class="remove-btn">âˆ’</button>
                <div class="language-content">
                    <div class="language-name">ğŸ‡®ğŸ‡¹ ã‚¤ã‚¿ãƒªã‚¢èªï¼š</div>
                    <div class="translation-result"></div>
                    <button class="speak-btn" title="éŸ³å£°ã‚’å†ç”Ÿ">ğŸ”Š</button>
                </div>
            </div>
            <div class="language-item" data-lang="zh-tw" draggable="false">
                <button class="remove-btn">âˆ’</button>
                <div class="language-content">
                    <div class="language-name">ğŸ‡¹ğŸ‡¼ ä¸­å›½èªï¼ˆç¹ä½“ï¼‰ï¼š</div>
                    <div class="translation-result"></div>
                    <button class="speak-btn" title="éŸ³å£°ã‚’å†ç”Ÿ">ğŸ”Š</button>
                </div>
            </div>
            <div class="language-item" data-lang="ko" draggable="false">
                <button class="remove-btn">âˆ’</button>
                <div class="language-content">
                    <div class="language-name">ğŸ‡°ğŸ‡· éŸ“å›½èªï¼š</div>
                    <div class="translation-result"></div>
                    <button class="speak-btn" title="éŸ³å£°ã‚’å†ç”Ÿ">ğŸ”Š</button>
                </div>
            </div>
        </div>
    </div>
    <div class="footer">
        <p style="text-align: center; font-size: 12px;">Â© 2025 jenikin</p>
    </div>

    <script>
        // è¨€èªã‚³ãƒ¼ãƒ‰ã‹ã‚‰è¨€èªåã¸ã®ãƒãƒƒãƒ”ãƒ³ã‚°
        const languageNames = {
            "ar": "ğŸ‡¸ğŸ‡¦ ã‚¢ãƒ©ãƒ“ã‚¢èª",
            "id": "ğŸ‡®ğŸ‡© ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢èª",
            "et": "ğŸ‡ªğŸ‡ª ã‚¨ã‚¹ãƒˆãƒ‹ã‚¢èª",
            "nl": "ğŸ‡³ğŸ‡± ã‚ªãƒ©ãƒ³ãƒ€èª",
            "el": "ğŸ‡¬ğŸ‡· ã‚®ãƒªã‚·ãƒ£èª",
            "hr": "ğŸ‡­ğŸ‡· ã‚¯ãƒ­ã‚¢ãƒã‚¢èª",
            "ka": "ğŸ‡¬ğŸ‡ª ã‚¸ãƒ§ãƒ¼ã‚¸ã‚¢èª",
            "sv": "ğŸ‡¸ğŸ‡ª ã‚¹ã‚¦ã‚§ãƒ¼ãƒ‡ãƒ³èª",
            "es": "ğŸ‡ªğŸ‡¸ ã‚¹ãƒšã‚¤ãƒ³èª",
            "sw": "ğŸ‡°ğŸ‡ª ã‚¹ãƒ¯ãƒ’ãƒªèª",
            "cs": "ğŸ‡¨ğŸ‡¿ ãƒã‚§ã‚³èª",
            "zh-cn": "ğŸ‡¨ğŸ‡³ ä¸­å›½èªï¼ˆç°¡ä½“ï¼‰",
            "zh-tw": "ğŸ‡¹ğŸ‡¼ ä¸­å›½èªï¼ˆç¹ä½“ï¼‰",
            "da": "ğŸ‡©ğŸ‡° ãƒ‡ãƒ³ãƒãƒ¼ã‚¯èª",
            "de": "ğŸ‡©ğŸ‡ª ãƒ‰ã‚¤ãƒ„èª",
            "tr": "ğŸ‡¹ğŸ‡· ãƒˆãƒ«ã‚³èª",
            "ne": "ğŸ‡³ğŸ‡µ ãƒãƒ‘ãƒ¼ãƒ«èª",
            "no": "ğŸ‡³ğŸ‡´ ãƒãƒ«ã‚¦ã‚§ãƒ¼èª",
            "haw": "ğŸ‡ºğŸ‡¸ ãƒãƒ¯ã‚¤èª",
            "hu": "ğŸ‡­ğŸ‡º ãƒãƒ³ã‚¬ãƒªãƒ¼èª",
            "hi": "ğŸ‡®ğŸ‡³ ãƒ’ãƒ³ãƒ‡ã‚£ãƒ¼èª",
            "tl": "ğŸ‡µğŸ‡­ ãƒ•ã‚£ãƒªãƒ”ãƒ³èª",
            "fi": "ğŸ‡«ğŸ‡® ãƒ•ã‚£ãƒ³ãƒ©ãƒ³ãƒ‰èª",
            "fr": "ğŸ‡«ğŸ‡· ãƒ•ãƒ©ãƒ³ã‚¹èª",
            "bg": "ğŸ‡§ğŸ‡¬ ãƒ–ãƒ«ã‚¬ãƒªã‚¢èª",
            "vi": "ğŸ‡»ğŸ‡³ ãƒ™ãƒˆãƒŠãƒ èª",
            "fa": "ğŸ‡®ğŸ‡· ãƒšãƒ«ã‚·ãƒ£èª",
            "pl": "ğŸ‡µğŸ‡± ãƒãƒ¼ãƒ©ãƒ³ãƒ‰èª",
            "pt": "ğŸ‡µğŸ‡¹ ãƒãƒ«ãƒˆã‚¬ãƒ«èª",
            "mi": "ğŸ‡³ğŸ‡¿ ãƒã‚ªãƒªèª",
            "ms": "ğŸ‡²ğŸ‡¾ ãƒãƒ¬ãƒ¼èª",
            "my": "ğŸ‡²ğŸ‡² ãƒŸãƒ£ãƒ³ãƒãƒ¼èª",
            "mn": "ğŸ‡²ğŸ‡³ ãƒ¢ãƒ³ã‚´ãƒ«èª",
            "lv": "ğŸ‡±ğŸ‡» ãƒ©ãƒˆãƒ“ã‚¢èª",
            "lt": "ğŸ‡±ğŸ‡¹ ãƒªãƒˆã‚¢ãƒ‹ã‚¢èª",
            "ro": "ğŸ‡·ğŸ‡´ ãƒ«ãƒ¼ãƒãƒ‹ã‚¢èª",
            "ru": "ğŸ‡·ğŸ‡º ãƒ­ã‚·ã‚¢èª",
            "ko": "ğŸ‡°ğŸ‡· éŸ“å›½èª",
            "en": "ğŸ‡¬ğŸ‡§ è‹±èª",
            "is": "ğŸ‡®ğŸ‡¸ ã‚¢ã‚¤ã‚¹ãƒ©ãƒ³ãƒ‰èª",
            "it": "ğŸ‡®ğŸ‡¹ ã‚¤ã‚¿ãƒªã‚¢èª",
            "th": "ğŸ‡¹ğŸ‡­ ã‚¿ã‚¤èª"
        };

        // GAS APIã®URL
        const GAS_API_URL = 'https://script.google.com/macros/s/AKfycbwAfldxaHWjLT2rzxz4FwEhzuxwM3eMoMAdOtfXi9E_SxftU-C7CGr9XsBvY0UzDBaD/exec';

        // DOMè¦ç´ ã®å–å¾—
        const textInput = document.getElementById('textInput');
        const translateBtn = document.getElementById('translateBtn');
        const languageSelect = document.getElementById('languageSelect');
        const addBtn = document.getElementById('addBtn');
        const languagesSection = document.getElementById('languagesSection');
        const settingsBtn = document.getElementById('settingsBtn');

        // ç¾åœ¨ã®è¨€èªãƒªã‚¹ãƒˆã‚’ç®¡ç†
        let currentLanguages = ['en', 'de', 'fr', 'es', 'it', 'zh-tw', 'ko'];
        let isEditMode = false;

        // ç¿»è¨³ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
        translateBtn.addEventListener('click', translateText);

        // Enterã‚­ãƒ¼ã§ã‚‚ç¿»è¨³å®Ÿè¡Œ
        textInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                translateText();
            }
        });

        // è¨€èªè¿½åŠ ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
        addBtn.addEventListener('click', addLanguage);

        // è¨­å®šãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
        settingsBtn.addEventListener('click', toggleEditMode);

        // è¨€èªå‰Šé™¤ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³
        languagesSection.addEventListener('click', function(e) {
            if (e.target.classList.contains('remove-btn')) {
                removeLanguage(e.target.closest('.language-item'));
            }
        });

        // ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        languagesSection.addEventListener('dragstart', handleDragStart);
        languagesSection.addEventListener('dragover', handleDragOver);
        languagesSection.addEventListener('drop', handleDrop);
        languagesSection.addEventListener('dragend', handleDragEnd);

        // ç¿»è¨³ã‚’å®Ÿè¡Œã™ã‚‹é–¢æ•°
        async function translateText() {
            const text = textInput.value.trim();
            if (!text) {
                alert('ç¿»è¨³ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            // ç¿»è¨³ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
            translateBtn.disabled = true;
            translateBtn.textContent = 'ç¿»è¨³ä¸­...';

            // å„è¨€èªã®çµæœæ¬„ã‚’ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã«ã™ã‚‹
            const languageItems = document.querySelectorAll('.language-item');
            languageItems.forEach(item => {
                const resultDiv = item.querySelector('.translation-result');
                resultDiv.textContent = 'ç¿»è¨³ä¸­...';
                resultDiv.className = 'translation-result loading';
            });

            // å„è¨€èªã«å¯¾ã—ã¦ç¿»è¨³ã‚’å®Ÿè¡Œ
            const promises = currentLanguages.map(async (langCode) => {
                try {
                    const response = await fetch(`${GAS_API_URL}?text=${encodeURIComponent(text)}&target=${langCode}&source=ja`);
                    const data = await response.json();
                    
                    if (data.error) {
                        throw new Error(data.error);
                    }
                    
                    return {
                        langCode: langCode,
                        translatedText: data.translatedText,
                        success: true
                    };
                } catch (error) {
                    console.error(`Error translating to ${langCode}:`, error);
                    return {
                        langCode: langCode,
                        error: error.message,
                        success: false
                    };
                }
            });

            // ã™ã¹ã¦ã®ç¿»è¨³ã®å®Œäº†ã‚’å¾…ã¤
            const results = await Promise.all(promises);

            // çµæœã‚’ç”»é¢ã«åæ˜ 
            results.forEach(result => {
                const languageItem = document.querySelector(`[data-lang="${result.langCode}"]`);
                if (languageItem) {
                    const resultDiv = languageItem.querySelector('.translation-result');
                    if (result.success) {
                        resultDiv.textContent = result.translatedText;
                        resultDiv.className = 'translation-result translated';
                    } else {
                        resultDiv.textContent = `ã‚¨ãƒ©ãƒ¼: ${result.error}`;
                        resultDiv.className = 'translation-result error';
                    }
                }
            });

            // ç¿»è¨³ãƒœã‚¿ãƒ³ã‚’å…ƒã«æˆ»ã™
            translateBtn.disabled = false;
            translateBtn.textContent = 'ç¿»è¨³';
        }

        // è¨€èªã‚’è¿½åŠ ã™ã‚‹é–¢æ•°
        function addLanguage() {
            const selectedLang = languageSelect.value;
            if (!selectedLang) {
                alert('è¿½åŠ ã™ã‚‹è¨€èªã‚’é¸æŠã—ã¦ãã ã•ã„');
                return;
            }

            // ã™ã§ã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹è¨€èªã‹ãƒã‚§ãƒƒã‚¯
            if (currentLanguages.includes(selectedLang)) {
                alert('ã“ã®è¨€èªã¯æ—¢ã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™');
                return;
            }

            // è¨€èªãƒªã‚¹ãƒˆã«è¿½åŠ 
            currentLanguages.push(selectedLang);

            // DOMè¦ç´ ã‚’ä½œæˆã—ã¦è¿½åŠ 
            const languageItem = document.createElement('div');
            languageItem.className = 'language-item';
            languageItem.setAttribute('data-lang', selectedLang);
            languageItem.setAttribute('draggable', 'false');
            
            languageItem.innerHTML = `
                <button class="remove-btn">âˆ’</button>
                <div class="language-content">
                    <div class="language-name">${languageNames[selectedLang]}ï¼š</div>
                    <div class="translation-result"></div>
                    <button class="speak-btn" title="éŸ³å£°ã‚’å†ç”Ÿ">ğŸ”Š</button>
                </div>
            `;

            languagesSection.appendChild(languageItem);

            // ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆ
            languageSelect.value = '';
        }

        // éŸ³å£°èª­ã¿ä¸Šã’æ©Ÿèƒ½
        languagesSection.addEventListener('click', function(e) {
            if (e.target.classList.contains('speak-btn')) {
                const item = e.target.closest('.language-item');
                const lang = item.getAttribute('data-lang');
                const text = item.querySelector('.translation-result').textContent;
                speakText(text, lang);
            }
        });

        function speakText(text, lang) {
            if (!window.speechSynthesis) {
                alert('ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯éŸ³å£°åˆæˆã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚');
                return;
            }

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = lang;

            const voices = speechSynthesis.getVoices();
            const matchedVoice = voices.find(v => v.lang.toLowerCase().startsWith(lang));
            if (matchedVoice) utterance.voice = matchedVoice;

            speechSynthesis.speak(utterance);
        }

        if (typeof speechSynthesis !== 'undefined' && speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => {};
        }

        // è¨€èªã‚’å‰Šé™¤ã™ã‚‹é–¢æ•°
        function removeLanguage(languageItem) {
            const langCode = languageItem.getAttribute('data-lang');
            
            // è¨€èªãƒªã‚¹ãƒˆã‹ã‚‰å‰Šé™¤
            currentLanguages = currentLanguages.filter(lang => lang !== langCode);
            
            // DOMè¦ç´ ã‚’å‰Šé™¤
            languageItem.remove();
        }

        // ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã®åˆ‡ã‚Šæ›¿ãˆ
        function toggleEditMode() {
            isEditMode = !isEditMode;
            const languageItems = document.querySelectorAll('.language-item');
            const addLanguageSection = document.querySelector('.add-language-section');
            
            if (isEditMode) {
                // ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ON
                languagesSection.classList.add('edit-mode');
                addLanguageSection.classList.add('visible');
                settingsBtn.style.backgroundColor = '#007bff';
                settingsBtn.style.color = 'white';
                
                languageItems.forEach(item => {
                    const removeBtn = item.querySelector('.remove-btn');
                    removeBtn.classList.add('visible');
                    item.setAttribute('draggable', 'true');
                    item.classList.add('sortable');
                });
            } else {
                // ç·¨é›†ãƒ¢ãƒ¼ãƒ‰OFF
                languagesSection.classList.remove('edit-mode');
                addLanguageSection.classList.remove('visible');
                settingsBtn.style.backgroundColor = '';
                settingsBtn.style.color = '';
                
                languageItems.forEach(item => {
                    const removeBtn = item.querySelector('.remove-btn');
                    removeBtn.classList.remove('visible');
                    item.setAttribute('draggable', 'false');
                    item.classList.remove('sortable');
                });
            }
        }

        // ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—é–¢é€£ã®å¤‰æ•°
        let draggedElement = null;

        function handleDragStart(e) {
            if (!isEditMode || !e.target.classList.contains('language-item')) return;
            
            draggedElement = e.target;
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
        }

        function handleDragOver(e) {
            if (!isEditMode) return;
            
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
        }

        function handleDragOver(e) {
            if (!isEditMode) return;

            e.preventDefault();
            const dropTarget = e.target.closest('.language-item');
            if (!dropTarget || dropTarget === draggedElement) return;

            const rect = dropTarget.getBoundingClientRect();
            const midY = rect.top + rect.height / 2;

            // ä¸€åº¦ã™ã¹ã¦ã® drop-indicator ã‚¯ãƒ©ã‚¹ã‚’å¤–ã™
            document.querySelectorAll('.language-item').forEach(item => {
                item.classList.remove('drop-indicator-top', 'drop-indicator-bottom');
            });

            if (e.clientY < midY) {
                dropTarget.classList.add('drop-indicator-top');
            } else {
                dropTarget.classList.add('drop-indicator-bottom');
            }
        }

        function handleDrop(e) {
            if (!isEditMode) return;
            
            e.preventDefault();
            
            const dropTarget = e.target.closest('.language-item');
            if (!dropTarget || dropTarget === draggedElement) return;
            
            // è¦ç´ ã®ä½ç½®ã‚’å…¥ã‚Œæ›¿ãˆ
            const rect = dropTarget.getBoundingClientRect();
            const midY = rect.top + rect.height / 2;
            
            if (e.clientY < midY) {
                dropTarget.parentNode.insertBefore(draggedElement, dropTarget);
            } else {
                dropTarget.parentNode.insertBefore(draggedElement, dropTarget.nextSibling);
            }

            // ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’æ¶ˆã™
            document.querySelectorAll('.language-item').forEach(item => {
                item.classList.remove('drop-indicator-top', 'drop-indicator-bottom');
            });
            
            // è¨€èªãƒªã‚¹ãƒˆã®é †åºã‚’æ›´æ–°
            updateLanguageOrder();
        }

        function handleDragEnd(e) {
            if (!isEditMode) return;
            
            e.target.classList.remove('dragging');
            draggedElement = null;
        }

        function updateLanguageOrder() {
            const languageItems = document.querySelectorAll('.language-item');
            currentLanguages = Array.from(languageItems).map(item => 
                item.getAttribute('data-lang')
            );
        }

        // åˆæœŸåŒ–å‡¦ç†ï¼ˆé¸æŠè‚¢ã‹ã‚‰æ—¢ã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹è¨€èªã‚’é™¤å¤–ï¼‰
        function updateLanguageSelect() {
            const options = languageSelect.querySelectorAll('option');
            options.forEach(option => {
                if (option.value && currentLanguages.includes(option.value)) {
                    option.style.display = 'none';
                } else {
                    option.style.display = 'block';
                }
            });
        }

        // è¨€èªãŒè¿½åŠ /å‰Šé™¤ã•ã‚Œã‚‹ãŸã³ã«é¸æŠè‚¢ã‚’æ›´æ–°
        const observer = new MutationObserver(updateLanguageSelect);
        observer.observe(languagesSection, { childList: true });

        // åˆæœŸåŒ–
        updateLanguageSelect();
    </script>
</body>
</html>
